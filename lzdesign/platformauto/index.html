<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Create a branded static site from a set of Markdown files to host the documentation of your Open Source or commercial project"><meta name=author content="OCTO CCoE"><link href=https://github.kyndryl.net/OCTO/azure/lzdesign/platformauto/ rel=canonical><link rel=icon href=../../kyndryl2.png><meta name=generator content="mkdocs-1.2.2, mkdocs-material-7.3.0"><title>8.Platform Automation - Kyndrl Solution Guidance for Azure Services</title><link rel=stylesheet href=../../assets/stylesheets/main.55b1b295.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.3f5d1f46.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback"><style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style><link rel=stylesheet href=../../extra.css><link rel=stylesheet href=../../extra-pagesize.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=grey data-md-color-accent=blue> <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#platform-automation-devops class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Kyndrl Solution Guidance for Azure Services" class="md-header__button md-logo" aria-label="Kyndrl Solution Guidance for Azure Services" data-md-component=logo> <img src=../../kyndryl2.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Kyndrl Solution Guidance for Azure Services </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 8.Platform Automation </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=grey data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg> </a> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.kyndryl.net/OCTO/azure/issues title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> FEEDBACK/ISSUES </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../stratplan/stratplanoverview/ class="md-tabs__link md-tabs__link--active"> Adoption & Design </a> </li> <li class=md-tabs__item> <a href=../../resource-service/compute/ class=md-tabs__link> Azure Resources & Services </a> </li> <li class=md-tabs__item> <a href=../../lzdesignsample1/wldescription/ class=md-tabs__link> Examples - Design & Implementation </a> </li> <li class=md-tabs__item> <a href=../../automation/automation/automation-usecases/ class=md-tabs__link> Operations Automation (IN PROGRESS) </a> </li> <li class=md-tabs__item> <a href=../../about/1authors/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Kyndrl Solution Guidance for Azure Services" class="md-nav__button md-logo" aria-label="Kyndrl Solution Guidance for Azure Services" data-md-component=logo> <img src=../../kyndryl2.png alt=logo> </a> Kyndrl Solution Guidance for Azure Services </label> <div class=md-nav__source> <a href=https://github.kyndryl.net/OCTO/azure/issues title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> FEEDBACK/ISSUES </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> Home <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Home data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../home/scope/ class=md-nav__link> Scope </a> </li> <li class=md-nav__item> <a href=../../home/prereq-learning/ class=md-nav__link> Pre-Requisite Learning </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> Adoption & Design <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Adoption & Design" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Adoption & Design </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_1 type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1> Strategy & Planning <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Strategy & Planning" data-md-level=2> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Strategy & Planning </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../stratplan/stratplanoverview/ class=md-nav__link> Strategy & Planning Overview </a> </li> <li class=md-nav__item> <a href=../../stratplan/adoptionstrategy/ class=md-nav__link> Cloud Adoption Strategy </a> </li> <li class=md-nav__item> <a href=../../stratplan/adoptionplan/ class=md-nav__link> Plan </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 type=checkbox id=__nav_2_2 checked> <label class=md-nav__link for=__nav_2_2> Landing Zone Design <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Landing Zone Design" data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Landing Zone Design </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../lzdesignoverview/ class=md-nav__link> Overview & Scope </a> </li> <li class=md-nav__item> <a href=../lzdesignapproach/ class=md-nav__link> Design Approach </a> </li> <li class=md-nav__item> <a href=../eaenrolment/ class=md-nav__link> 1.Enterprise Enrollment </a> </li> <li class=md-nav__item> <a href=../iam/ class=md-nav__link> 2.Identity & Access </a> </li> <li class=md-nav__item> <a href=../orgmgmt/ class=md-nav__link> 3.Organization Mgmt </a> </li> <li class=md-nav__item> <a href=../nwtopology/ class=md-nav__link> 4.Network </a> </li> <li class=md-nav__item> <a href=../monitoringmgmt/ class=md-nav__link> 5.Monitoring & Mgmt </a> </li> <li class=md-nav__item> <a href=../govcomp/ class=md-nav__link> 6.Governance & Compliance </a> </li> <li class=md-nav__item> <a href=../bcdr/ class=md-nav__link> 7.Backup & DR </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> 8.Platform Automation </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> Automations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Automations data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Automations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../automation/automation/automation-framework.md class=md-nav__link> Automation Framework </a> </li> <li class=md-nav__item> <a href=../../automation/automation/automation-architecture/ class=md-nav__link> Automation Architecture </a> </li> <li class=md-nav__item> <a href=../../automation/automation/makemanage/ class=md-nav__link> Make Manage Automation </a> </li> <li class=md-nav__item> <a href=../../automation/automation/azure-automationoptions/ class=md-nav__link> Azure Automation Options </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4> Azure LightHouse <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Azure LightHouse" data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Azure LightHouse </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../automation/lighthouse/lh-enableguide/ class=md-nav__link> LightHouse Enablement </a> </li> <li class=md-nav__item> <a href=../../automation/lighthouse/lh-adminguide/ class=md-nav__link> LightHouse Administration </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Azure Resources & Services <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Azure Resources & Services" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Azure Resources & Services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../resource-service/compute/ class=md-nav__link> Azure Compute </a> </li> <li class=md-nav__item> <a href=../../resource-service/vmagents/ class=md-nav__link> VM Agents </a> </li> <li class=md-nav__item> <a href=../../resource-service/storage/ class=md-nav__link> Azure Storage </a> </li> <li class=md-nav__item> <a href=../../resource-service/aks/ class=md-nav__link> Azure Kubernetes Service </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Examples - Design & Implementation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Examples - Design & Implementation" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Examples - Design & Implementation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1 type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1> Landing Zone Design - Sample Workload 1 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Landing Zone Design - Sample Workload 1" data-md-level=2> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Landing Zone Design - Sample Workload 1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../lzdesignsample1/wldescription/ class=md-nav__link> Workload Description </a> </li> <li class=md-nav__item> <a href=../../lzdesignsample1/eaenrol/ class=md-nav__link> 1.Enterprise Enrollment & Azure AD Tenants </a> </li> <li class=md-nav__item> <a href=../../lzdesignsample1/idaccess/ class=md-nav__link> 2.Identity & Access Management </a> </li> <li class=md-nav__item> <a href=../../lzdesignsample1/organdmgmt/ class=md-nav__link> 3.Organization & Management Group </a> </li> <li class=md-nav__item> <a href=../../lzdesignsample1/nwtopo/ class=md-nav__link> 4.Network Topology & Connectivity </a> </li> <li class=md-nav__item> <a href=../../lzdesignsample1/monitoringmgmt/ class=md-nav__link> 5.Monitoring & Management </a> </li> <li class=md-nav__item> <a href=../../lzdesignsample1/backupdr/ class=md-nav__link> 6.Business Continuity & Disaster Recovery </a> </li> <li class=md-nav__item> <a href=../../lzdesignsample1/govcomp/ class=md-nav__link> 7.Governance & Compliance </a> </li> <li class=md-nav__item> <a href=../../lzdesignsample1/platformauto/ class=md-nav__link> 8.Platform Automation & DevOps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Virtual WAN - Design and Implementation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Virtual WAN - Design and Implementation" data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Virtual WAN - Design and Implementation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../virtualwan/overview/ class=md-nav__link> Overview and Link to Details </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Operations Automation (IN PROGRESS) <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Operations Automation (IN PROGRESS)" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Operations Automation (IN PROGRESS) </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1 type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1> Automations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Automations data-md-level=2> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Automations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../automation/automation/automation-usecases/ class=md-nav__link> Automation UseCases </a> </li> <li class=md-nav__item> <a href=../../automation/automation/automation-architecture/ class=md-nav__link> Automation Architecture </a> </li> <li class=md-nav__item> <a href=../../automation/automation/makemanage/ class=md-nav__link> Make Manage Automation </a> </li> <li class=md-nav__item> <a href=../../automation/automation/azure-automationoptions/ class=md-nav__link> Azure Automation Options </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2> Azure LightHouse <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Azure LightHouse" data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Azure LightHouse </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../automation/lighthouse/lh-enableguide/ class=md-nav__link> LightHouse Enablement </a> </li> <li class=md-nav__item> <a href=../../automation/lighthouse/lh-adminguide/ class=md-nav__link> LightHouse Administration </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> About <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=About data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/1authors/ class=md-nav__link> Contributors </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=platform-automation-devops>Platform Automation &amp; DevOps<a class=headerlink href=#platform-automation-devops title="Permanent link">⚓︎</a></h1> <h1 id=azure-automation-key-requirements>Azure Automation Key Requirements<a class=headerlink href=#azure-automation-key-requirements title="Permanent link">⚓︎</a></h1> <p>For Azure, most of processes can be automated across Ready, Adopt, Govern, and Manage phases of Azure Cloud Adoption Framework. This section provides guidance for Azure Landing Zone deployment, Workload deployment, Govern and Azure Day2 Process automation and recommendations considering various design aspects. </p> <p>In an enterprise environment, various repetitive tasks and processes should be well defined, developed as code and deployed in an automated fashion for better control, scale, and avoiding manual errors. This provides speed, agility and self-healing capabilities to the environment. Various below processes and management services should be automated and leverage automation as much as possible.</p> <h2 id=11-ready-stage-automation>1.1 Ready Stage Automation<a class=headerlink href=#11-ready-stage-automation title="Permanent link">⚓︎</a></h2> <p>· Subscription Automation (Create, Modify, Delete)</p> <p>· Resource Group Automation (Create, Delete)</p> <p>· Resource Tagging Automation</p> <p>· Azure AD User, Group and Roles Assignment Automation</p> <p>· Network Automation</p> <p>· Security Automation</p> <p>· Monitor and Log Analytics Deployment Automation</p> <p>· Landing Zone Deployment Automation</p> <h2 id=12-adopt-stage-automation>1.2 Adopt Stage Automation<a class=headerlink href=#12-adopt-stage-automation title="Permanent link">⚓︎</a></h2> <p>· Workload Deployment Automation</p> <p>· Make Manage Onboarding Automation</p> <p>· Azure Migration Automation </p> <p>· Process Improvements and Automations </p> <p>· Few Ready stage activities like Resource group automation, tagging, network automation etc.</p> <h2 id=13-governance-automation>1.3 Governance Automation<a class=headerlink href=#13-governance-automation title="Permanent link">⚓︎</a></h2> <p>· Policy Enforcement and Automation</p> <p>· Resource Consistency </p> <p>· Security &amp; Compliance Automation </p> <p>· Cost &amp; Billing Automation </p> <h2 id=14-manage-automation>1.4 Manage Automation<a class=headerlink href=#14-manage-automation title="Permanent link">⚓︎</a></h2> <p>· Day2 Process Automation</p> <p>· Event Based Orchestration</p> <p>· Update Management</p> <p>· Configuration Management </p> <p>· Reduce manual operational effort</p> <h1 id=2-azure-automation-framework>2 Azure Automation Framework<a class=headerlink href=#2-azure-automation-framework title="Permanent link">⚓︎</a></h1> <p><em>AA - the heading should be Kyndryl Automation Framework for Azure Cloud. The current heading implies Automation as provided by Azure.</em></p> <p>In an enterprise world, landing zone, workload and Policies should be defined, deployed, and managed in an automated ITIL compliant manner. </p> <p><img style=height:200%;width:150% src=../images/automation-framework.svg></p> <p>Automation and its benefits can be realized and implemented by various Kyndryl, Azure and 3<sup>rd</sup> party products/services as above, which is the recommended automation framework. It has various components as below:</p> <h2 id=21-automation-framework-components>2.1 Automation Framework Components<a class=headerlink href=#21-automation-framework-components title="Permanent link">⚓︎</a></h2> <h3 id=211-cloud-management-platform-cmp>2.1.1 Cloud Management Platform (CMP)<a class=headerlink href=#211-cloud-management-platform-cmp title="Permanent link">⚓︎</a></h3> <p>Cloud Management Platform/ Hybrid Cloud Management platform should provide centralized Dashboard and Service Catalog for raising and tracking various Day1 and Day2 requests. This should be capable to apply and validate various custom/Azure policies and should allow/deny requests accordingly. CMP should be customizable, providing authentication, reporting, analytics, alerting, notification, Configuration Item (CI) Discovery etc capabilities.</p> <h3 id=212-business-approval-it-service-management>2.1.2 Business Approval &amp; IT Service Management<a class=headerlink href=#212-business-approval-it-service-management title="Permanent link">⚓︎</a></h3> <p>There should be capability to raise Service Request and obtain technical and business approvals for the requests raised from Cloud Management Platform, CLI or API Calls. There should also be capability of raising change Requests, which needs infrastructure changes. There should also exist an Enterprise grade Configuration Management Database (CMDB). This should be capable to apply and validate various custom/Azure policies and should allow/deny requests accordingly.</p> <p><em>AA - you seem to imply CMDB needs to be capable to apply policies and allow/deny requests. Is that correct?</em></p> <h3 id=213-orchestration-engine>2.1.3 Orchestration Engine<a class=headerlink href=#213-orchestration-engine title="Permanent link">⚓︎</a></h3> <p>An enterprise automation system should have a Workflow or an Orchestration Engine, which is capable of maintaining Process automation for make manage, agents installation, custom steps execution etc, and Day 2 Change Request based service flow execution which can coordinate various tasks. </p> <p><em>AA - This is confusing. Service flows would be handled by a tool such as ServiceNow while process automation would be handled by a tool such as Ansible. We need clarity on which is indicated in the above.</em></p> <h3 id=214-request-fulfilment-engine>2.1.4 Request Fulfilment Engine<a class=headerlink href=#214-request-fulfilment-engine title="Permanent link">⚓︎</a></h3> <p>Request fulfilment Engine is the execution engine, which is responsible to execute sequence of steps on target endpoints and can interact with various service management tools for various configurations and operations execution.</p> <h3 id=215-github>2.1.5 GitHub<a class=headerlink href=#215-github title="Permanent link">⚓︎</a></h3> <p>Kyndryl or Client GitHub will be used to maintain various artifacts as Infrastructure as code including policies, ARM templates, resource templates, action definitions, playbooks, Job Templates etc. in version controlled manner and can be used with Azure DevOps as well.</p> <h3 id=216-service-management-tools>2.1.6 Service Management Tools<a class=headerlink href=#216-service-management-tools title="Permanent link">⚓︎</a></h3> <p>Various Cloud Native or Custom tools will be leveraged for various Service Management capabilities like monitoring, log analytics, patch management, Backup and Disaster Recovery, Security and Compliance Management etc.</p> <h3 id=217-workload>2.1.7 Workload<a class=headerlink href=#217-workload title="Permanent link">⚓︎</a></h3> <p>Workloads are any Azure/On-Prem/Other Cloud systems/services which are provisioned, managed and decommissioned as needed.</p> <p><em>AA - Workloads are applications or services that support applications and perform tasks for end-users.</em></p> <h2 id=22-automation-use-cases>2.2 Automation Use Cases<a class=headerlink href=#22-automation-use-cases title="Permanent link">⚓︎</a></h2> <p>Below are various automation use cases <del>which should be able to be executed in an automated fashion</del>.</p> <h3 id=221-landing-zone-deployment-automation>2.2.1 Landing Zone Deployment Automation<a class=headerlink href=#221-landing-zone-deployment-automation title="Permanent link">⚓︎</a></h3> <p>For Landing Zone deployment, management and configuration in consistent manner, Azure automation should be leveraged. There are various landing Zone activities like accounts creation, tagging, security governance, networking, identity etc which should be fulfilled in an automated fashion. </p> <p><img style=height:200%;width:150% src=../images/LA-automation.svg></p> <p>With MCMP/3<sup>rd</sup> Party/GitOPS, Automation should be triggered which can provision required Azure services after IPC and perform required tasks and update CIs as needed.</p> <p><em>AA - I am confused. If Landing Zone refers to the platform part as against the customer workloads, how does MCMP play a part? What is IPC here?</em></p> <h3 id=222-day-1-automation>2.2.2 Day 1 Automation<a class=headerlink href=#222-day-1-automation title="Permanent link">⚓︎</a></h3> <p>For new or existing client Day1 requests can include various Azure services like Compute (Provision VM, VMSS, App Service, AKS etc) Storage (Create Blob storage, File storage, Managed Disk), Network (Create Virtual Network, Load Balancer, Azure Gateway, VPN Gateway), Data platform (Create Cosmos, SQL, Managed SQL database, Synapse database) etc.</p> <p>Request can be raised from MCMP Portal or triggered through 3<sup>rd</sup> party apps /APIs/GitOps, which then go through Service Request Creation, Request Approval and Change Task creation. In background, a sequence of tasks are performed in an automated/semi-automated fashion for request fulfilment.</p> <p><img style=height:200%;width:150% src=../images/day1-automation.svg></p> <p>E.g. For Managed VM Provisioning, request is raised in MCMP portal, service request and change are created, and VM provisioning, CI discovery and Make manage tasks (patch, monitor, event management, backup, domain join, antivirus, health check enablement etc.) are executed by request fulfilment engine and notification is sent to the requester once request is completed.</p> <p><em>AA - My understanding is that once MCMP provisions the VM, it will create asset and config items in CMDB, then invoke mkmanage. All this is asynchronous and user will have to poll the inventory UI for updates. There is no CI discovery. Also, Day 1 (and Day 2) have to do with workloads primarily and not the Platform part of the landing zone.</em></p> <h3 id=223-day-2-automation>2.2.3 Day 2 Automation<a class=headerlink href=#223-day-2-automation title="Permanent link">⚓︎</a></h3> <p>For Day2, requests may include remediate configuration deviation, adding/modifying security and backup policies, modifying various Azure services like Compute (start, stop, restart, add disk, resize VM, enable monitoring/backup/patching, on demand backup etc.), Storage (Modify blob storage, change backup frequency, change storage type etc), Network (Modify VNet, add/update NSG rules etc), Data platform (Database optimization, enable backup etc) etc.</p> <p>Request can be raised from MCMP Portal or triggered through 3<sup>rd</sup> party apps /APIs/GitOps, which then go through Service Request Creation, Request Approval and Change Task creation. In background, task or a sequence of tasks are performed in an automated/semi-automated fashion for request fulfilment and CI is updated if there is any CI change.</p> <p><img style=height:200%;width:150% src=../images/day2-automation.svg></p> <p>E.g. For Resize VM Day2, request is raised in MCMP portal, service request and change are created, and VM resize is triggered and CI update is with required dependent tasks execution by request fulfilment engine and notification is sent to the requester once request is completed.</p> <h1 id=3-azure-automation-options>3 Azure Automation Options<a class=headerlink href=#3-azure-automation-options title="Permanent link">⚓︎</a></h1> <p>Azure provides ways to create, configure and manage various Azure services via Azure Portal, REST API, CLI and PowerShell. There are various Hybrid tools, Azure services and automation options as below which can be leveraged for automation. </p> <h2 id=31-infrastructure-as-code-iac>3.1 Infrastructure as Code (IaC)<a class=headerlink href=#31-infrastructure-as-code-iac title="Permanent link">⚓︎</a></h2> <p><a href=https://docs.microsoft.com/en-us/devops/deliver/what-is-infrastructure-as-code>IaC</a> is about defining and maintaining infrastructure (Virtual Machines, Network, Storage, Load Balancer etc.) in descriptive model, which can be maintained and versioned by DevOps team as source code. </p> <p>IaC usually contains input configuration file (target state), variables and logic (resource configuration) for resource deployment based on the given configuration. </p> <p>Azure provides native support for IaC via PowerShell and Azure Resource Manager (ARM), and this is also supported by popular third party platforms, such as Terraform, Ansible, and Chef to deploy and manage infrastructure in an automated fashion. </p> <h2 id=32-azure-policies>3.2 Azure Policies<a class=headerlink href=#32-azure-policies title="Permanent link">⚓︎</a></h2> <p><a href=https://docs.microsoft.com/en-us/azure/governance/policy/overview>Azure Policy</a> provides alerting, denial, and remediation capabilities for the Azure resources for a chosen Azure scope. It helps to evaluate overall state of the environment, drill down to each policy/resource, enforce organizational standards, assess compliance at-scale and bulk remediation for existing resources and automatic remediation for new resources. </p> <p>Common use cases for Azure Policy include implementing governance for resource consistency, regulatory compliance, security, cost visibility etc. Azure policies can be grouped together with <a href=https://docs.microsoft.com/en-us/azure/governance/policy/concepts/initiative-definition-structure>Azure Initiatives</a> for easy apply and controls. </p> <p>A new Azure policy or initiative assignment takes about 30 minutes to be applied while New or updated resources within scope of an existing assignment become available in about 15 minutes. A standard compliance scan occurs every 24 hours.</p> <p>For Kyndryl recommended Azure built-in &amp; custom policies, and Azure Initiatives please refer <a href=https://pages.github.kyndryl.net/OCTO/azure/policies/azurepolicies/ >link</a>.</p> <h2 id=33-azure-blueprint>3.3 Azure Blueprint<a class=headerlink href=#33-azure-blueprint title="Permanent link">⚓︎</a></h2> <p><a href=https://azure.microsoft.com/en-in/services/blueprints/#overview>Azure Blueprint</a> are reusable blueprints consisting of packages of key environment artifacts like Azure Resource Manager templates, role-based access controls and policies simplifying largescale Azure deployments. These templates can be maintained at centralized place with version controlled and can be leveraged for deployment to multiple subscriptions with single click.</p> <p>For deploying the chosen Azure Blueprint, below steps should be followed:</p> <p>· Create a new blueprint from the sample/scratch</p> <p>· Mark the blueprint as Published</p> <p>· Assign the blueprint to an existing subscription</p> <h2 id=34-azure-automation>3.4 Azure Automation<a class=headerlink href=#34-azure-automation title="Permanent link">⚓︎</a></h2> <p><a href=https://docs.microsoft.com/en-us/azure/automation/automation-intro>Azure Automation</a> is a cloud-based automation and configuration service which can be leveraged for Azure and non-Azure environments. With Azure Automation, runbooks can be authored graphically, in PowerShell, or using Python and can be used for process automation, configuration management, update management, shared capabilities, and heterogeneous features and can be used during deployment, operations, and decommissioning of workloads and resources. </p> <p>Azure automation has changed over time from classic, Azure Service Management (ASM) model to recent, Azure Resource Manager (ARM) model. ARM templates additionally provides resource groups, role-based access control, template deployments, tagging, resource policy etc. capabilities. Along with Azure Graphical runbooks option, ARM templates provides capability to create, maintain and deploy JSON based templates in version control manner. Templates helps in deploying resources consistently and repeatedly.</p> <p>Azure Automation needs an automation account which can integrate with Operations Management Suite (OMS), and the solutions connected to it. Alternately, webhooks can be created for runbooks and can be executed based on OMS search criteria. Azure Automation can also execute runbooks in on-premises environment through on-prem Azure automation hybrid workers, connected with the Azure Automation account.</p> <h2 id=35-arm-templates>3.5 ARM Templates<a class=headerlink href=#35-arm-templates title="Permanent link">⚓︎</a></h2> <p>Azure Resource Manager (<a href=https://azure.microsoft.com/en-in/services/arm-templates/#overview>ARM</a>) Templates are Azure native configuration language to define Infrastructure as Code (IaC) for various Azure resources. With ARM templates, Azure resources can be centrally created and updated in declarative and repeatable fashion. Either already available <a href=https://github.com/Azure/azure-quickstart-templates>sample templates</a> can be leveraged or new can be written using native tooling in Visual Studio or Visual Studio Code. These have native integration with other Azure resources like Azure Policy to remediate non-compliant resources and Azure DevOps for CI/CD. With ARM, resources can be deployed in parallel to speed up the overall deployment process.</p> <h2 id=36-powershell>3.6 PowerShell<a class=headerlink href=#36-powershell title="Permanent link">⚓︎</a></h2> <p>Azure <a href="https://docs.microsoft.com/en-us/powershell/azure/?view=azps-6.4.0">PowerShell</a> is a set of commandlets for managing Azure resources directly from the PowerShell command line and provides powerful features for automation. </p> <p>There are number of readily available PowerShell modules as well which can be imported into the Automation account to run the runbooks from PowerShell Module Gallery. If runbook uses any of these commands, the respective modules should be imported to the Automation account before executing the runbook</p> <p>The runbooks in Azure automation are completely based on PowerShell. There are below four types of runbooks available:</p> <p>· <strong>PowerShell</strong> – PowerShell based runbooks are available in Azure Automation which can do basic operations. These are similar as executing Azure PowerShell module-based commands from the Azure portal.</p> <p>· <strong>PowerShell Workflow</strong> - PowerShell Workflow can be used for advanced automations as it can execute more-complex tasks that involve executing steps in parallel, calling other child runbooks, and so forth. It in turn uses Windows Workflow Foundation and allows to set checkpoints in script so that script can be restarted from the checkpoint if an exception occurs during execution. </p> <p>· <strong>Graphical</strong> : Graphical runbooks can be created only from Azure Portal and is good for administrators with no/less PowerShell knowledge. This type of runbook uses a visual authoring model and represents the data flow pictorially in an easy-to-understand fashion.</p> <p>· <strong>Graphical PowerShell Workflow</strong>: Graphical PowerShell Workflow runbooks are based on PowerShell workflows in the back end and can be created and edited only from Azure Portal.</p> <p>Though based on PowerShell, each runbook type has its own features and limitations. Nested run books can be executed.</p> <h2 id=37-terraform>3.7 Terraform<a class=headerlink href=#37-terraform title="Permanent link">⚓︎</a></h2> <p><a href=https://docs.microsoft.com/en-us/azure/developer/terraform/overview>Terraform</a> is an open-source tool, and provides configuration as code for cloud infrastructure provisioning and management. The Terraform CLI provides a simple mechanism to deploy and version the configuration files to Azure.</p> <p>Common Azure compute, storage, database and network activities can be performed using Terraform templates.</p> <h2 id=38-runbooks>3.8 Runbooks<a class=headerlink href=#38-runbooks title="Permanent link">⚓︎</a></h2> <p><a href=https://docs.microsoft.com/en-us/azure/automation/start-runbooks>Azure Runbooks</a> are the basic building blocks of Azure Automation and can be created from scratch, or can be imported from Runbook Gallery which are published by Microsoft or community contributors. These runbooks can be customized and scheduled as needed. Few examples of common runbooks are start/stop all Azure VMs or tagged VMs, turnOn Update Management, backup SQL db to Azure Blob, Send Mail, Backup reports etc.</p> <p>Runbooks can be executed manually or in a scheduled fashion, that results in one or multiple jobs which can run in parallel. An Azure automation worker executes the job(s). Each Job can be managed and drilled down deeper and Job’s input, output and task information can be tracked. Jobs can have status as Completed, Failed, Queued, Running, Stopped, and Suspended. If a runbook is interrupted, it restarts at the beginning.</p> <h2 id=39-desired-state-configuration-dsc>3.9 Desired State Configuration (DSC)<a class=headerlink href=#39-desired-state-configuration-dsc title="Permanent link">⚓︎</a></h2> <p>Azure Desired State Configuration (<a href=https://docs.microsoft.com/en-us/azure/virtual-machines/extensions/dsc-overview>DSC</a>) is an configuration management solution, that helps in maintaining infrastructure configuration as code. DSC is a feature in PowerShell 4.0 and above that helps administrators to automate the configuration of Windows and Linux operating systems.</p> <p>It uses PowerShell and implements the desired state in target machines by leveraging the Local Configuration Manager (LCM). Azure Automation DSC integrates Azure Automation with DSC-based configuration management and can be used to maintain desired state across on-premises physical/virtual machines as well as cloud resources. </p> <h2 id=310-azure-update-management>3.10 Azure Update Management<a class=headerlink href=#310-azure-update-management title="Permanent link">⚓︎</a></h2> <p><a href=https://docs.microsoft.com/en-us/azure/automation/update-management/update-mgmt-overview>Update Management</a> is a configuration component of Azure Automation. Windows and Linux computers, both in Azure and on-premises, send assessment information about missing updates to the Log Analytics workspace. Azure Automation then uses that information to create a schedule for automatic deployment of the missing updates.</p> <p>The following steps needs to be performed for enabling Update Manager:</p> <p>· Leverage existing /Create a Log Analytics workspace</p> <p>· Create an Automation account</p> <p>· Link the Automation account with the Log Analytics workspace</p> <p>· Enable Update Management for Azure VMs</p> <p>· Enable Update Management for non-Azure VMs</p> <p>Azure Maintenance Configuration can manage platform updates that don’t require a reboot using maintenance control. Maintenance control lets client decide when to apply updates to their virtual infrastructure.</p> <p><em>AA - Update Management is a service that leverages Azure Automation. So discussing Update Management is out of place here.</em> </p> <h2 id=311-azure-automanage>3.11 Azure Automanage<a class=headerlink href=#311-azure-automanage title="Permanent link">⚓︎</a></h2> <p>Azure provides Azure <a href=https://docs.microsoft.com/en-us/azure/automanage/automanage-virtual-machines>Automanage</a> feature for Linux and Windows Servers Day2 tasks management in dev/test and Production category based on Azure best practices. This feature is currently in preview. Various Day2 common tasks are as below:</p> <p>· Machine Insights Monitoring (Production only)</p> <p>· Backup (Production only)</p> <p>· Azure Security Center</p> <p>· Microsoft Antimalware</p> <p>· Update Management</p> <p>· Change Tracking and Inventory</p> <p>· Guest Configuration</p> <p>· Boot Diagnostics</p> <p>· Windows Admin Center</p> <p>· Azure Automation Account</p> <p>· Log Analytics Workspace</p> <p>Built-in Azure Automanage enrols, configures, and monitors virtual machines with best practice as defined in the Microsoft Cloud Adoption Framework for Azure. Below are few current limitations for same.</p> <p>· Automanage can be used for the selected scope.</p> <p>· By default, this assignment takes effect on newly created resources. </p> <p>· Existing resources can be updated via a remediation task after the policy is assigned. For deployIfNotExists policies, the remediation task deploys the specified template. </p> <p>· For modify policies, the remediation task edits tags on the existing resources.</p> <p>· Upto 500 non-complaint resources can be made complaint</p> <h2 id=312-ansible-cacf>3.12 Ansible &amp; CACF<a class=headerlink href=#312-ansible-cacf title="Permanent link">⚓︎</a></h2> <p>Ansible is an open source provisioning and configuration management tool and can automate complex applications and provision resources in multiple clouds. Ansible provides <a href=https://docs.ansible.com/ansible/latest/collections/azure/azcollection/index.html>collection of Az modules</a> for various Azure activities automation. </p> <p>Ansible Tower Based, Cloud Automation Community Framework (<a href=https://w3.ibm.com/w3publisher/cacf>CACF</a>) is Kyndryl’s strategic solution that allows automation at enterprise level with a target to get to zero touch with reduced development and release cycle addressed by the community model. CACF leverages cloud native RedHat Automation platform – Ansible Tower on OpenShift and integrates with Services management processes, the Git repository and the automation playbooks. There is a rich set of are pre-built automations available using Ansible playbooks. </p> <p>Major CACF addressed use cases (on-prem) for existing clients are as below:</p> <p>· Event/Incident remediation</p> <p>· Patch Scanning and execution</p> <p>· Security Health Check </p> <p>· Service Request </p> <p>· Build and Decommission</p> <p>· Other Automation use cases</p> <p><em>AA - How is a discussion of on-prem use cases relevant here?</em></p> <h2 id=313-other-services>3.13 Other Services<a class=headerlink href=#313-other-services title="Permanent link">⚓︎</a></h2> <p>Azure provides various other services to manage and control Azure environment in automated fashion as below:</p> <p>· <a href=https://docs.microsoft.com/en-us/azure/backup/backup-overview><strong>Azure Backup</strong></a> for protecting data and backing up entire Windows/Linux VMs using backup extensions and backing up files, folders, and system state using the MARS agent</p> <p>· <a href=https://azure.microsoft.com/en-in/services/security-center/#overview><strong>Azure Security</strong></a> Center with Azure Defender for monitoring workloads and finding and fixing vulnerabilities to protect hybrid cloud workloads</p> <p>· <a href=https://azure.microsoft.com/en-in/services/advisor/ ><strong>Azure Advisor</strong></a> analyses Azure services configurations and usage telemetry and offers personalized, actionable recommendations for reliability, security, operational aspects, performance, and cost. This also includes suggested actions that can be taken right away, postpone or dismiss. Advisor Quick Fix makes optimisation at scale faster and easier by allowing users to remediate recommendations for multiple resources simultaneously and with only a few clicks. Same can be accessed by Azure Portal, REST API, CLI and PowerShell.</p> <p><em>AA - So far as I know, the last two are not examples of Automation. Also Backup is a service that leverages Automation.</em></p> <h1 id=4-automation-recommendation>4 Automation Recommendation<a class=headerlink href=#4-automation-recommendation title="Permanent link">⚓︎</a></h1> <p>Kyndryl has already embraced automation as the foundation for every aspect of Infrastructure Services delivery from Landing Zone build, day one infrastructure &amp; application provisioning, day two management of infrastructure &amp; applications which include security compliance, identity &amp; access management, monitoring, logging etc.</p> <p>This automation approach will be further strengthened as part of Kyndryl and client’s cloud adoption journey, using <strong>Infrastructure as Code (IaC)</strong> model for all Azure operations. </p> <p>Kyndryl will follow its established DevSecOps process for automation content creation, and for deployment wherever applicable. Enabling DevSecOps process and culture for clients is not part of this design scope and should be managed through the DevSecOps offerings.</p> <p>Based on Kyndryl’s and products current capabilities, below is the recommendation for various automations.</p> <p>Note: Recommendations are based on best effort basis and mentioned integration between components/offerings and automation templates/playbooks may not exist/production grade validated and should to be consulted with offering teams before committing to the clients.</p> <p><img style=height:200%;width:150% src=../images/automation-recommendation.svg></p> <h2 id=41-ready-stage-automation-recommendation>4.1 Ready Stage Automation Recommendation<a class=headerlink href=#41-ready-stage-automation-recommendation title="Permanent link">⚓︎</a></h2> <p>For fully governed landing zone deployment, modify out of the box or build new Azure Blueprints to set up ISO-compliant foundation templates that will accelerate the landing zone build and workload migration. </p> <p>Landing Zone automation will be used to create Landing Zone elements as per recommendations and standards defined in the previous seven sections. </p> <p>Kyndryl proposes <strong>ARM template and Terraform templates</strong> based automation solution for various CAF Ready stage automation activities for Landing Zone Deployment like Azure managements groups &amp; resource groups creation and deletion, Resource Tagging, Azure AD user &amp; group creation/deletion/modifications, roles Assignment, creation of backup, infrastructure and security policies as per baseline defined in the previous sections, creation of log analytics workspaces and Azure Monitor configuration, creation of VNets, Subnets and all other network elements, peering the workload VNet with Hub network for on-premises integration and connectivity etc. These terraform and ARM templates will be secured and version controlled in Kyndryl’s GitHub and/or client’s GitHub if requested by a client.</p> <p>For Landing Zone Deployments, there are various out of box readily available implementation options available using <a href=https://docs.microsoft.com/en-us/azure/cloud-adoption-framework/ready/landing-zone/implementation-options#implementation-options><strong>Azure Blueprints</strong></a> which will be used as base and Kyndryl specific customizations and enhancements will be built, for the initial Landing Zone. Note that the landing zone template will include common platform elements and platform elements specific to workloads like VNets, Subnets, policies etc. and hence these ARM templates need to be additionally customized for each specific client &amp; workload. The first landing zone will include common platform elements, whereas subsequent landing zones for new workloads will contain only workload specific elements.</p> <p>Various automation activities and consistency can also be achieved with pre-defined Azure Policies. Various Landing Zone <a href=https://kyndryl.box.com/s/4q768sulnti9qbtrh45dmglizblbojb8>deployment automation policies</a> are defined in Azure Policies section. </p> <p>There are certain elements of landing zone creation that cannot be automated, which include configuring Active Directory elements, creation of AD groups and client network connectivity aspects and should be performed manually.</p> <p>Kyndryl offerings are working on developing/enhancing ARM templates for Landing Zone automated deployment to define workload and application landscape which will be taken as the input for landing zone creation. Refer to additional documentation on <a href=https://pages.github.kyndryl.net/OCTO/Dev4PublicClouds/concept-car/modularization_framework/ >Kyndryl’s Landing Zone Automation</a> design approach and capabilities.</p> <h2 id=42-adopt-stage-automation-recommendation>4.2 Adopt Stage Automation Recommendation<a class=headerlink href=#42-adopt-stage-automation-recommendation title="Permanent link">⚓︎</a></h2> <p>For Workload deployment and configuration management automation, Azure ARM templates, and Terraform templates should be used to automate the deployment and configuration of workloads such as VMs, Virtual Machines Scale Sets, SQL databases, AKS etc. These terraform and ARM templates should be secured and version controlled in Kyndryl’s GitHub and/or in customer’s GitHub if requested by a client. </p> <p>These Azure Resources/Composite patterns can be called from CMP, like MCMP where these ARM templates/Composite patterns are provided by Kyndryl offerings like MCDS or SO/ Client IT teams and execution happen in automated/semi-automated fashion along with Make Mange processes. These ARM/Terraform templates can also be triggered using GitOps or third party tools which support REST APIs to have consistent resource deployment. </p> <p>CACF based Ansible Tower automation should be leveraged for make manage onboarding automation for installing required service management agents, custom scripts and software, evidence capture, CI discovery, setting up of monitoring for application and the infrastructure, backup configuration and integration with backend systems. </p> <h2 id=43-governance-automation-recommendation>4.3 Governance Automation Recommendation<a class=headerlink href=#43-governance-automation-recommendation title="Permanent link">⚓︎</a></h2> <p>While deploying resources, the Cloud Governance team will work with the Operations team to identify business risks and establish a baseline set of policy statements that are intended to mitigate that risk. These policies will be implemented at the outset, then optimized over time based on regular reviews of operations. Recommended Azure Policies can be referred from Policies section.</p> <p>Azure Built in/custom policies/initiatives should be leveraged to evaluate Azure resource at specific intervals and perform deny the change, log the change or remediate non-compliant resources for resource consistency. Azure policies/initiative JSON consisting policy parameters, policy rules, definitions, and policy effects can be developed or modified using Azure Portal, CLI or PowerShell modules and can be applied through Azure Portal for given Management Group, Subscription or Resource Group Scope and optional Resource exclusions.</p> <p>Azure Security Center and Azure Sentinel should be used for assessing compliance and identifying security risks and for detection, response and recovery from threats. Azure Security policies (e.g. CIS Policy) will be configured for detecting and enforcing organization-wide settings to ensure consistent policy adherence and fast violation detection.</p> <p>For centralized cost governance, all in-scope workloads and resources should be properly tagged using Azure Policy. Azure Hybrid Benefit and OS, SQL licencing reuse can be leveraged for further cost optimization. </p> <p>On ongoing basis, resource utilization and performance should be evaluated across the environment and resources will be modified to use the smallest instance or SKU that can support the performance requirements of each resource.</p> <p>Azure policies should be used to identify and terminate any resources that are adding to costs but are not adding to business value. Azure Advisor recommendations along with remediation actions will be leveraged using Azure Portal and REST API. </p> <h2 id=44-manage-automation-recommendation>4.4 Manage Automation Recommendation<a class=headerlink href=#44-manage-automation-recommendation title="Permanent link">⚓︎</a></h2> <p>Automating Day2 tasks like monitoring, backup, patch management, process automation, configuration management etc. helps administrators to improve efficiency and reduce effort and manual error. </p> <p>MCMS currently leverages Azure Monitoring (In most of cases), and Cloud Native Backup while other processes are executed by CACF Ansible and local automation. Below Cloud Native or CACF Ansible can be proposed for automating these processes.</p> <h3 id=441-azure-automation>4.4.1 Azure Automation<a class=headerlink href=#441-azure-automation title="Permanent link">⚓︎</a></h3> <p>Various Azure native solutions, Azure Automation should be leveraged for Azure and non-Azure workloads operations, and decommissioning for various below processes:</p> <h4 id=4411-process-automation>4.4.1.1 Process Automation<a class=headerlink href=#4411-process-automation title="Permanent link">⚓︎</a></h4> <p>Process Automation in Azure Automation can be used for frequent, time-consuming, and error-prone cloud management tasks and orchestrating service provider or client processes across Hybrid environments. </p> <p>Orchestration should be written using Logic Apps while execution can be achieved using PowerShell, PowerShell Workflow, and graphical runbooks. Logic can be defined/modified through <a href=https://docs.microsoft.com/en-us/azure/automation/automation-runbook-types>Azure Automation runbooks</a>. </p> <h4 id=4412-configuration-management>4.4.1.2 Configuration Management<a class=headerlink href=#4412-configuration-management title="Permanent link">⚓︎</a></h4> <p>Azure automation can be leveraged for collecting inventory (Virtual Machines and Server infrastructure) and <a href=https://docs.microsoft.com/en-us/azure/automation/change-tracking/overview>tracking changes</a> across services, daemons, software, registry, and files and raising alerts. This also supports query in-guest resources for visibility into installed applications and other configuration items. With <a href=https://docs.microsoft.com/en-us/azure/automation/automation-dsc-overview>Azure Automation State Configuration</a> PowerShell Desired state configuration (DSC) for DSC resources and apply configurations to virtual or physical machines from a DSC pull server in the Azure cloud.</p> <h4 id=4413-update-management>4.4.1.3 Update Management<a class=headerlink href=#4413-update-management title="Permanent link">⚓︎</a></h4> <p>Azure Update Management should be leveraged for patching Windows and Linux VMs Cloud Natively.</p> <h4 id=4414-azure-backup>4.4.1.4 Azure Backup<a class=headerlink href=#4414-azure-backup title="Permanent link">⚓︎</a></h4> <p>Azure Backup service should be leveraged for Azure native Backup solution for Linux and Windows VM in Azure Recovery vaults.</p> <h3 id=442-ansible-automation-cacf>4.4.2 Ansible Automation (CACF)<a class=headerlink href=#442-ansible-automation-cacf title="Permanent link">⚓︎</a></h3> <p>Kyndryl will leverage it available automation for Day2 tasks automation such as security compliance, patching, identity &amp; access management, monitoring etc. </p> <p>Ansible playbooks will be used for operational efficiency and process automation, automated incident remediations, configuration management, update management, task automation, event automation.</p> <p><img style=height:200%;width:150% src=../images/cacf.svg></p> <p>Day 2 operations will be automated through ITSM tool like ServiceNow and MCMP (Multi-Cloud Management Platform) which are integrated with Azure through Azure native APIs and Ansible Tower. Client can open service requests through pre-defined service Catalogs in ServiceNow/MCMP. Workflows within these tools are used to validate the request after which automations are initiated through Ansible Tower &amp; Terraform templates. </p> <p>The automation assets – Ansible playbooks or ARM templates etc, will be created and managed through DevSecOps process and all assets will be managed in GitHub. Currently, DevSecOps is limited to application deployments and upgrades only, on the workload subscriptions and Day2 automations are provided as part of manage services from MCMS &amp; ISPW. The intention is to allow application developers to manage their application deployments and upgrades through DevSecOps process. This DevSecOps platform uses a combination of standard DevOps tool like Jenkins, Azure native DevOps tools and Ansible Tower and can be hosted at Kyndryl’s management network or in client premises, or re-use an existing DevSecOps platform from the client with appropriate changes.</p> <p>Application developers will be able to manage their application deployments and upgrades through DevSecOps process. This DevSecOps platform uses a combination of standard DevOps tool like Jenkins, Azure native DevOps tools and Ansible Tower and will be hosted at Kyndryl’s management network.</p> <h2 id=design-actions-by-solution-architects>Design Actions by Solution Architects<a class=headerlink href=#design-actions-by-solution-architects title="Permanent link">⚓︎</a></h2> <p>o Landing Zone creation will be automated based on all the design defintions from previous sections.<br> o There will be templates provided <strong>in a future release</strong> to capture landing zone definitions which can be directly used by automation</p> <p><em>AA - We need to emphasize the following -</em></p> <ol> <li><em>Solution Architects will be expected to create automation templates (ARM templates, blueprints, Terraform configs or similar artifacts) based on sample templates that will be provided as these design recommendations evolve.</em></li> <li><em>The Kyndryl Automation Framework consisting of all the elements described in Section 2.1 are work in progress. The intent for this framework is to implement the use cases in Section 2.2. As and when there is definite progress in this space, the documentation will be updated.</em> </li> <li><em>Section 3 is mainly information that Solution Architects can use to create custom automization.</em></li> <li><em>Section 4 are aids to Solution Architects in creation of their own automation templates. The sub-sections on Manage and Govern Automation Recommendations should not apply to Solution Architects. They could be there to provide insight into how automation in these phases is provided using Azure tooling.</em></li> </ol> <p><em>Overall, there are numerous language corrections to be made and also more concise and abbreviated wording to be used.</em></p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../bcdr/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 7.Backup & DR" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> 7.Backup & DR </div> </div> </a> <a href=../../automation/automation/automation-architecture/ class="md-footer__link md-footer__link--next" aria-label="Next: Automation Architecture" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Automation Architecture </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> <a href=/about/ >Copyright (C) 2021 Kyndryl</a>. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.kyndryl.net/OCTO/azure/ target=_blank rel=noopener title="FEEDBACK & ISSUES" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.tabs.link", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.e99e714c.min.js", "version": null}</script> <script src=../../assets/javascripts/bundle.8697d190.min.js></script> </body> </html>