<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Create a branded static site from a set of Markdown files to host the documentation of your Open Source or commercial project"><meta name=author content="OCTO CCoE"><link href=https://github.kyndryl.net/OCTO/azure/lzdesignsample1/nwtopo/ rel=canonical><link rel=icon href=../../kyndryl2.png><meta name=generator content="mkdocs-1.2.2, mkdocs-material-7.3.0"><title>4.Network Topology & Connectivity - Kyndrl Solution Guidance for Azure Services</title><link rel=stylesheet href=../../assets/stylesheets/main.55b1b295.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.3f5d1f46.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback"><style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style><link rel=stylesheet href=../../extra.css><link rel=stylesheet href=../../extra-pagesize.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=grey data-md-color-accent=blue> <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Kyndrl Solution Guidance for Azure Services" class="md-header__button md-logo" aria-label="Kyndrl Solution Guidance for Azure Services" data-md-component=logo> <img src=../../kyndryl2.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Kyndrl Solution Guidance for Azure Services </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 4.Network Topology & Connectivity </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=grey data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg> </a> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.kyndryl.net/OCTO/azure/issues title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> FEEDBACK/ISSUES </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../stratplan/stratplanoverview/ class=md-tabs__link> Adoption & Design </a> </li> <li class=md-tabs__item> <a href=../../resource-service/compute/ class=md-tabs__link> Azure Resources & Services </a> </li> <li class=md-tabs__item> <a href=../wldescription/ class="md-tabs__link md-tabs__link--active"> Examples - Design & Implementation </a> </li> <li class=md-tabs__item> <a href=../../automation/automation/automation-usecases/ class=md-tabs__link> Operations Automation (IN PROGRESS) </a> </li> <li class=md-tabs__item> <a href=../../about/1authors/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Kyndrl Solution Guidance for Azure Services" class="md-nav__button md-logo" aria-label="Kyndrl Solution Guidance for Azure Services" data-md-component=logo> <img src=../../kyndryl2.png alt=logo> </a> Kyndrl Solution Guidance for Azure Services </label> <div class=md-nav__source> <a href=https://github.kyndryl.net/OCTO/azure/issues title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> FEEDBACK/ISSUES </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> Home <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Home data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../home/scope/ class=md-nav__link> Scope </a> </li> <li class=md-nav__item> <a href=../../home/prereq-learning/ class=md-nav__link> Pre-Requisite Learning </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Adoption & Design <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Adoption & Design" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Adoption & Design </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_1 type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1> Strategy & Planning <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Strategy & Planning" data-md-level=2> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Strategy & Planning </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../stratplan/stratplanoverview/ class=md-nav__link> Strategy & Planning Overview </a> </li> <li class=md-nav__item> <a href=../../stratplan/adoptionstrategy/ class=md-nav__link> Cloud Adoption Strategy </a> </li> <li class=md-nav__item> <a href=../../stratplan/adoptionplan/ class=md-nav__link> Plan </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2> Landing Zone Design <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Landing Zone Design" data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Landing Zone Design </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../lzdesign/lzdesignoverview/ class=md-nav__link> Overview & Scope </a> </li> <li class=md-nav__item> <a href=../../lzdesign/lzdesignapproach/ class=md-nav__link> Design Approach </a> </li> <li class=md-nav__item> <a href=../../lzdesign/eaenrolment/ class=md-nav__link> 1.Enterprise Enrollment </a> </li> <li class=md-nav__item> <a href=../../lzdesign/iam/ class=md-nav__link> 2.Identity & Access </a> </li> <li class=md-nav__item> <a href=../../lzdesign/orgmgmt/ class=md-nav__link> 3.Organization Mgmt </a> </li> <li class=md-nav__item> <a href=../../lzdesign/nwtopology/ class=md-nav__link> 4.Network </a> </li> <li class=md-nav__item> <a href=../../lzdesign/monitoringmgmt/ class=md-nav__link> 5.Monitoring & Mgmt </a> </li> <li class=md-nav__item> <a href=../../lzdesign/govcomp/ class=md-nav__link> 6.Governance & Compliance </a> </li> <li class=md-nav__item> <a href=../../lzdesign/bcdr/ class=md-nav__link> 7.Backup & DR </a> </li> <li class=md-nav__item> <a href=../../lzdesign/platformauto/ class=md-nav__link> 8.Platform Automation </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> Automations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Automations data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Automations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../automation/automation/automation-framework.md class=md-nav__link> Automation Framework </a> </li> <li class=md-nav__item> <a href=../../automation/automation/automation-architecture/ class=md-nav__link> Automation Architecture </a> </li> <li class=md-nav__item> <a href=../../automation/automation/makemanage/ class=md-nav__link> Make Manage Automation </a> </li> <li class=md-nav__item> <a href=../../automation/automation/azure-automationoptions/ class=md-nav__link> Azure Automation Options </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4> Azure LightHouse <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Azure LightHouse" data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Azure LightHouse </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../automation/lighthouse/lh-enableguide/ class=md-nav__link> LightHouse Enablement </a> </li> <li class=md-nav__item> <a href=../../automation/lighthouse/lh-adminguide/ class=md-nav__link> LightHouse Administration </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Azure Resources & Services <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Azure Resources & Services" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Azure Resources & Services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../resource-service/compute/ class=md-nav__link> Azure Compute </a> </li> <li class=md-nav__item> <a href=../../resource-service/vmagents/ class=md-nav__link> VM Agents </a> </li> <li class=md-nav__item> <a href=../../resource-service/storage/ class=md-nav__link> Azure Storage </a> </li> <li class=md-nav__item> <a href=../../resource-service/aks/ class=md-nav__link> Azure Kubernetes Service </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Examples - Design & Implementation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Examples - Design & Implementation" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Examples - Design & Implementation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1 type=checkbox id=__nav_4_1 checked> <label class=md-nav__link for=__nav_4_1> Landing Zone Design - Sample Workload 1 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Landing Zone Design - Sample Workload 1" data-md-level=2> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Landing Zone Design - Sample Workload 1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../wldescription/ class=md-nav__link> Workload Description </a> </li> <li class=md-nav__item> <a href=../eaenrol/ class=md-nav__link> 1.Enterprise Enrollment & Azure AD Tenants </a> </li> <li class=md-nav__item> <a href=../idaccess/ class=md-nav__link> 2.Identity & Access Management </a> </li> <li class=md-nav__item> <a href=../organdmgmt/ class=md-nav__link> 3.Organization & Management Group </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 4.Network Topology & Connectivity <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 4.Network Topology & Connectivity </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> </a> </li> <li class=md-nav__item> <a href=#network-topology-and-connectivity class=md-nav__link> Network Topology and Connectivity </a> <nav class=md-nav aria-label="Network Topology and Connectivity"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#design-considerations-and-recommendations class=md-nav__link> Design Considerations and Recommendations </a> <nav class=md-nav aria-label="Design Considerations and Recommendations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#plan-for-ip-addressing class=md-nav__link> Plan for IP addressing </a> </li> <li class=md-nav__item> <a href=#dns-for-on-premise-and-azure-resources class=md-nav__link> DNS for on-premise and Azure resources </a> </li> <li class=md-nav__item> <a href=#define-an-azure-network-topology class=md-nav__link> Define an Azure network topology </a> </li> <li class=md-nav__item> <a href=#network-design-with-virtual-network-gateways class=md-nav__link> Network Design with Virtual Network gateways </a> </li> <li class=md-nav__item> <a href=#connectivity-to-azure class=md-nav__link> Connectivity to Azure </a> </li> <li class=md-nav__item> <a href=#connectivity-to-azure-paas-services class=md-nav__link> Connectivity to Azure PaaS Services </a> </li> <li class=md-nav__item> <a href=#private-link-and-dns-integration class=md-nav__link> Private Link and DNS Integration </a> </li> <li class=md-nav__item> <a href=#plan-for-inbound-and-outbound-connectivity class=md-nav__link> Plan for Inbound and Outbound Connectivity </a> </li> <li class=md-nav__item> <a href=#plan-for-application-delivery class=md-nav__link> Plan for Application Delivery </a> </li> <li class=md-nav__item> <a href=#plan-for-landing-zone-network-segmentation class=md-nav__link> Plan for Landing Zone Network Segmentation </a> </li> <li class=md-nav__item> <a href=#plan-for-network-encryption class=md-nav__link> Plan for Network Encryption </a> </li> <li class=md-nav__item> <a href=#plan-for-traffic-inspection class=md-nav__link> Plan for Traffic Inspection </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#hub-vnet-design class=md-nav__link> Hub VNet Design </a> </li> <li class=md-nav__item> <a href=#vnet-design-for-net-application-production class=md-nav__link> VNet Design for .NET Application -- Production </a> <nav class=md-nav aria-label="VNet Design for .NET Application -- Production"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#subnet-ext-lb class=md-nav__link> Subnet-Ext LB </a> </li> <li class=md-nav__item> <a href=#subnet-ext-lb-udr class=md-nav__link> Subnet-Ext LB UDR </a> </li> <li class=md-nav__item> <a href=#subnet-ext-lb-nsgs class=md-nav__link> Subnet-Ext LB NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-web class=md-nav__link> Subnet-Web </a> </li> <li class=md-nav__item> <a href=#subnet-web-udr class=md-nav__link> Subnet-Web UDR </a> </li> <li class=md-nav__item> <a href=#subnet-web-nsgs class=md-nav__link> Subnet-Web NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-int-lb class=md-nav__link> Subnet-Int LB </a> </li> <li class=md-nav__item> <a href=#subnet-int-lb-udr class=md-nav__link> Subnet-Int LB UDR </a> </li> <li class=md-nav__item> <a href=#subnet-int-lb-nsgs class=md-nav__link> Subnet-Int LB NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-app class=md-nav__link> Subnet-App </a> </li> <li class=md-nav__item> <a href=#subnet-app-udr class=md-nav__link> Subnet-App UDR </a> </li> <li class=md-nav__item> <a href=#subnet-app-nsgs class=md-nav__link> Subnet-App NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-database class=md-nav__link> Subnet-Database </a> </li> <li class=md-nav__item> <a href=#subnet-database-udr class=md-nav__link> Subnet-Database UDR </a> </li> <li class=md-nav__item> <a href=#subnet-database-nsgs class=md-nav__link> Subnet-Database NSGs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vnet-design-for-j2ee-application-production class=md-nav__link> VNet Design for J2EE Application -- Production </a> <nav class=md-nav aria-label="VNet Design for J2EE Application -- Production"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#subnet-web_1 class=md-nav__link> Subnet-Web </a> </li> <li class=md-nav__item> <a href=#subnet-web-udr_1 class=md-nav__link> Subnet-Web UDR </a> </li> <li class=md-nav__item> <a href=#subnet-web-nsgs_1 class=md-nav__link> Subnet-Web NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-app_1 class=md-nav__link> Subnet-App </a> </li> <li class=md-nav__item> <a href=#subnet-app-udr_1 class=md-nav__link> Subnet-App UDR </a> </li> <li class=md-nav__item> <a href=#subnet-app-nsgs_1 class=md-nav__link> Subnet-App NSGs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vnet-design-for-net-and-j2ee-applications-devtest class=md-nav__link> VNet Design for .NET and J2EE Applications -- Dev/Test </a> <nav class=md-nav aria-label="VNet Design for .NET and J2EE Applications -- Dev/Test"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#subnet-web_2 class=md-nav__link> Subnet-Web </a> </li> <li class=md-nav__item> <a href=#subnet-web-udr_2 class=md-nav__link> Subnet-Web UDR </a> </li> <li class=md-nav__item> <a href=#subnet-web-nsgs_2 class=md-nav__link> Subnet-Web NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-app_2 class=md-nav__link> Subnet-App </a> </li> <li class=md-nav__item> <a href=#subnet-app-udr_2 class=md-nav__link> Subnet-App UDR </a> </li> <li class=md-nav__item> <a href=#subnet-app-nsgs_2 class=md-nav__link> Subnet-App NSGs </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../monitoringmgmt/ class=md-nav__link> 5.Monitoring & Management </a> </li> <li class=md-nav__item> <a href=../backupdr/ class=md-nav__link> 6.Business Continuity & Disaster Recovery </a> </li> <li class=md-nav__item> <a href=../govcomp/ class=md-nav__link> 7.Governance & Compliance </a> </li> <li class=md-nav__item> <a href=../platformauto/ class=md-nav__link> 8.Platform Automation & DevOps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Virtual WAN - Design and Implementation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Virtual WAN - Design and Implementation" data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Virtual WAN - Design and Implementation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../virtualwan/overview/ class=md-nav__link> Overview and Link to Details </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Operations Automation (IN PROGRESS) <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Operations Automation (IN PROGRESS)" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Operations Automation (IN PROGRESS) </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1 type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1> Automations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Automations data-md-level=2> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Automations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../automation/automation/automation-usecases/ class=md-nav__link> Automation UseCases </a> </li> <li class=md-nav__item> <a href=../../automation/automation/automation-architecture/ class=md-nav__link> Automation Architecture </a> </li> <li class=md-nav__item> <a href=../../automation/automation/makemanage/ class=md-nav__link> Make Manage Automation </a> </li> <li class=md-nav__item> <a href=../../automation/automation/azure-automationoptions/ class=md-nav__link> Azure Automation Options </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2> Azure LightHouse <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Azure LightHouse" data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Azure LightHouse </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../automation/lighthouse/lh-enableguide/ class=md-nav__link> LightHouse Enablement </a> </li> <li class=md-nav__item> <a href=../../automation/lighthouse/lh-adminguide/ class=md-nav__link> LightHouse Administration </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> About <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=About data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/1authors/ class=md-nav__link> Contributors </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> </a> </li> <li class=md-nav__item> <a href=#network-topology-and-connectivity class=md-nav__link> Network Topology and Connectivity </a> <nav class=md-nav aria-label="Network Topology and Connectivity"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#design-considerations-and-recommendations class=md-nav__link> Design Considerations and Recommendations </a> <nav class=md-nav aria-label="Design Considerations and Recommendations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#plan-for-ip-addressing class=md-nav__link> Plan for IP addressing </a> </li> <li class=md-nav__item> <a href=#dns-for-on-premise-and-azure-resources class=md-nav__link> DNS for on-premise and Azure resources </a> </li> <li class=md-nav__item> <a href=#define-an-azure-network-topology class=md-nav__link> Define an Azure network topology </a> </li> <li class=md-nav__item> <a href=#network-design-with-virtual-network-gateways class=md-nav__link> Network Design with Virtual Network gateways </a> </li> <li class=md-nav__item> <a href=#connectivity-to-azure class=md-nav__link> Connectivity to Azure </a> </li> <li class=md-nav__item> <a href=#connectivity-to-azure-paas-services class=md-nav__link> Connectivity to Azure PaaS Services </a> </li> <li class=md-nav__item> <a href=#private-link-and-dns-integration class=md-nav__link> Private Link and DNS Integration </a> </li> <li class=md-nav__item> <a href=#plan-for-inbound-and-outbound-connectivity class=md-nav__link> Plan for Inbound and Outbound Connectivity </a> </li> <li class=md-nav__item> <a href=#plan-for-application-delivery class=md-nav__link> Plan for Application Delivery </a> </li> <li class=md-nav__item> <a href=#plan-for-landing-zone-network-segmentation class=md-nav__link> Plan for Landing Zone Network Segmentation </a> </li> <li class=md-nav__item> <a href=#plan-for-network-encryption class=md-nav__link> Plan for Network Encryption </a> </li> <li class=md-nav__item> <a href=#plan-for-traffic-inspection class=md-nav__link> Plan for Traffic Inspection </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#hub-vnet-design class=md-nav__link> Hub VNet Design </a> </li> <li class=md-nav__item> <a href=#vnet-design-for-net-application-production class=md-nav__link> VNet Design for .NET Application -- Production </a> <nav class=md-nav aria-label="VNet Design for .NET Application -- Production"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#subnet-ext-lb class=md-nav__link> Subnet-Ext LB </a> </li> <li class=md-nav__item> <a href=#subnet-ext-lb-udr class=md-nav__link> Subnet-Ext LB UDR </a> </li> <li class=md-nav__item> <a href=#subnet-ext-lb-nsgs class=md-nav__link> Subnet-Ext LB NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-web class=md-nav__link> Subnet-Web </a> </li> <li class=md-nav__item> <a href=#subnet-web-udr class=md-nav__link> Subnet-Web UDR </a> </li> <li class=md-nav__item> <a href=#subnet-web-nsgs class=md-nav__link> Subnet-Web NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-int-lb class=md-nav__link> Subnet-Int LB </a> </li> <li class=md-nav__item> <a href=#subnet-int-lb-udr class=md-nav__link> Subnet-Int LB UDR </a> </li> <li class=md-nav__item> <a href=#subnet-int-lb-nsgs class=md-nav__link> Subnet-Int LB NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-app class=md-nav__link> Subnet-App </a> </li> <li class=md-nav__item> <a href=#subnet-app-udr class=md-nav__link> Subnet-App UDR </a> </li> <li class=md-nav__item> <a href=#subnet-app-nsgs class=md-nav__link> Subnet-App NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-database class=md-nav__link> Subnet-Database </a> </li> <li class=md-nav__item> <a href=#subnet-database-udr class=md-nav__link> Subnet-Database UDR </a> </li> <li class=md-nav__item> <a href=#subnet-database-nsgs class=md-nav__link> Subnet-Database NSGs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vnet-design-for-j2ee-application-production class=md-nav__link> VNet Design for J2EE Application -- Production </a> <nav class=md-nav aria-label="VNet Design for J2EE Application -- Production"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#subnet-web_1 class=md-nav__link> Subnet-Web </a> </li> <li class=md-nav__item> <a href=#subnet-web-udr_1 class=md-nav__link> Subnet-Web UDR </a> </li> <li class=md-nav__item> <a href=#subnet-web-nsgs_1 class=md-nav__link> Subnet-Web NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-app_1 class=md-nav__link> Subnet-App </a> </li> <li class=md-nav__item> <a href=#subnet-app-udr_1 class=md-nav__link> Subnet-App UDR </a> </li> <li class=md-nav__item> <a href=#subnet-app-nsgs_1 class=md-nav__link> Subnet-App NSGs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vnet-design-for-net-and-j2ee-applications-devtest class=md-nav__link> VNet Design for .NET and J2EE Applications -- Dev/Test </a> <nav class=md-nav aria-label="VNet Design for .NET and J2EE Applications -- Dev/Test"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#subnet-web_2 class=md-nav__link> Subnet-Web </a> </li> <li class=md-nav__item> <a href=#subnet-web-udr_2 class=md-nav__link> Subnet-Web UDR </a> </li> <li class=md-nav__item> <a href=#subnet-web-nsgs_2 class=md-nav__link> Subnet-Web NSGs </a> </li> <li class=md-nav__item> <a href=#subnet-app_2 class=md-nav__link> Subnet-App </a> </li> <li class=md-nav__item> <a href=#subnet-app-udr_2 class=md-nav__link> Subnet-App UDR </a> </li> <li class=md-nav__item> <a href=#subnet-app-nsgs_2 class=md-nav__link> Subnet-App NSGs </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h2 id=_1><a class=headerlink href=#_1 title="Permanent link">⚓︎</a></h2> <h1 id=network-topology-and-connectivity>Network Topology and Connectivity<a class=headerlink href=#network-topology-and-connectivity title="Permanent link">⚓︎</a></h1> <p>This document focuses on the design of the network for the proposed workloads.</p> <p>The first section focuses on applying the design considerations and recommendations presented in the design documentation. </p> <p>The remaining sections focus on the design for each of the VNets that are identified as needed from the above effort. For each VNet, the subnets required, the resources needed to be hosted in each subnet and their configuration, the User Defined Routes (UDRs) to be configured for each subnet and Network Security Groups (NSGs) to be configured for each subnet are described.</p> <p>It is to be noted that the intent is to demonstrate the use of the proposed design approach and not necessarily to produce a rigourous and working solution design. So while UDRs and NSGs are detailed, their correctness needs to be validated through a Proof of Concept.</p> <h2 id=design-considerations-and-recommendations>Design Considerations and Recommendations<a class=headerlink href=#design-considerations-and-recommendations title="Permanent link">⚓︎</a></h2> <h3 id=plan-for-ip-addressing>Plan for IP addressing<a class=headerlink href=#plan-for-ip-addressing title="Permanent link">⚓︎</a></h3> <p>• It is envisaged three VNets will be needed to host the workloads -- one for both the applications in Dev/Test and one for each application in Production.</p> <p>• IP address ranges for the VNets in the proposed solution will be chosen such that there is no overlap across Azure regions and customer premises.</p> <p>• The private IP address range of 192.168.0.0/16 will be used to assign IP address ranges for the VNets in cloud.</p> <p>• It is assumed, given the size of the proposed environments and the associated workloads, that IPv4 private IP address ranges will suffice and IPv6 will not be needed.</p> <p>• The size of the IP address ranges assigned to the VNets in the proposed solution will be chosen as to not waste IP addresses while at the same time preventing the possibility of IP address range reallocation in the future that would be disruptive.</p> <h3 id=dns-for-on-premise-and-azure-resources>DNS for on-premise and Azure resources<a class=headerlink href=#dns-for-on-premise-and-azure-resources title="Permanent link">⚓︎</a></h3> <p>• Name resolution for Internet-facing domain will be provided by the customer premises network. Azure DNS support for such domains will not be used.</p> <p>• A custom private DNS zone (azure.customer.com, for example) along with auto-registration of all the Azure resources will be used. All VNets will be linked to this zone so lookups can be performed from anywhere within the environment.</p> <p>• For lookups performed from customer premises, conditional forwarding will be configured on the DNS servers in the customer premises. Azure Firewall will be the forwarder that will receive such lookup requests from the customer premises and perform the lookup against Azure private DNS.</p> <p>• Kubernetes clusters in Azure are not in scope for this design effort.</p> <p>• For this exercise, lookups from the cloud for names of resources in the customer premises is not envisaged. If needed this can be achieved through custom DNS resolvers that conditionally forward lookup requests from the cloud to the customer premise DNS servers. The custom DNS resolver then needs to be configured as the DNS resolver for all Azure resources. The same DNS resolver can forward lookup requests from both Azure resources and customer premises to Azure DNS as well in which case the suggested DNS configuration on the Azure Firewall can be dispensed with.</p> <h3 id=define-an-azure-network-topology>Define an Azure network topology<a class=headerlink href=#define-an-azure-network-topology title="Permanent link">⚓︎</a></h3> <p>Virtual WAN is a Microsoft-managed service used to meet large-scale interconnectivity requirements. It is suitable for</p> <p>• Connecting VNets in multiple Azure regions and multiple customer premises via different transports.</p> <p>• Routing between customer sites that connect to the cloud network using different transports.</p> <p>A traditional hub-and-spoke network topology helps build customized secure large-scale networks in Azure with routing and security managed by the customer. It is suitable for</p> <p>• When a full mesh network between the Azure VNets and multiple customer premises is not needed</p> <p>• Only a few customer sites (typically less than 30) need to be connected to Azure cloud</p> <p>• Custom routing is needed between the VNets and customer premises</p> <p>For the solution under consideration, there is only one customer premise. Custom routing will provide flexibility in configuring the network. Therefore, the hub-and-spoke network topology is preferred for this solution.</p> <h3 id=network-design-with-virtual-network-gateways>Network Design with Virtual Network gateways<a class=headerlink href=#network-design-with-virtual-network-gateways title="Permanent link">⚓︎</a></h3> <ul> <li> <p>From the requirements, on-premise users needs to reach workloads in different VNets spread across two subscriptions. Also, the management services in the VNets spread across three subscriptions will need to talk to one another as well as to the Azure resources hosting the workloads. So a hub-and-spoke with VNets peered to a Hub VNet hosting a Virtual Network gateway that provides transitive connectivity as needed is the choice.</p> </li> <li> <p>For isolation between the three tiers of the proposed web applications that are hosted in a VNet, user defined routing will be implemented.</p> </li> <li> <p>An Azure DDoS Protection standard protection plan will be shared across all VNets in a single Azure AD Tenant to protect resources with public IP addresses.</p> </li> <li> <p>Border Gateway Protocol (BGP) will be enabled on the Virtual Network gateways.</p> </li> </ul> <h3 id=connectivity-to-azure>Connectivity to Azure<a class=headerlink href=#connectivity-to-azure title="Permanent link">⚓︎</a></h3> <p>The purpose of connecting to the Cloud environment from on-premise is to manage the VMs and application configuration. High volume data transfers and transactions are not expected, and bandwidth should not exceed 10Gbps. So, the VPN Gateway providing both site-to-site and user-to-site connectivity is chosen as the Virtual Network Gateway between on-premise and the Cloud environment considering the lower cost reduction and faster implementation.</p> <ul> <li> <p>As and when details are provided on the bandwidth and performance requirements for the connectivity between customer premise and the cloud, the right SKU for the VPN gateways can be selected.</p> </li> <li> <p>For higher resilience, deploy zone-redundant VPN gateways (where available).</p> </li> </ul> <h3 id=connectivity-to-azure-paas-services>Connectivity to Azure PaaS Services<a class=headerlink href=#connectivity-to-azure-paas-services title="Permanent link">⚓︎</a></h3> <ul> <li> <p>Virtual network injection for the Azure SQL service is chosen to make it available from within the VNet hosting the rest of the application stack.</p> </li> <li> <p>Azure PaaS services that have been injected into a virtual network still perform management plane operations by using public IP addresses. Ensure that this communication is locked down within the virtual network by using UDRs and NSGs.</p> </li> <li> <p>Private Link will not be used in this solution.</p> </li> <li> <p>There is no need to make the Azure Paas Services accessible from the customer premises.</p> </li> <li> <p>There is no need to make Azure PaaS services available through service endpoints.</p> </li> </ul> <h3 id=private-link-and-dns-integration>Private Link and DNS Integration<a class=headerlink href=#private-link-and-dns-integration title="Permanent link">⚓︎</a></h3> <p>The only Azure PaaS service used in this solution is the SQL Server Managed Instance. This service will be deployed through VNet integration <del>injection</del> and Private Link will not be used. Therefore there is no need to design for Private Link integration with DNS.</p> <h3 id=plan-for-inbound-and-outbound-connectivity>Plan for Inbound and Outbound Connectivity<a class=headerlink href=#plan-for-inbound-and-outbound-connectivity title="Permanent link">⚓︎</a></h3> <ul> <li>Use Azure Firewall to</li> <li> <p>govern Azure outbound traffic to the internet</p> </li> <li> <p>support Non-HTTP/S inbound connections</p> </li> <li> <p>provide isolation between the Dev/Test and Production environment</p> </li> <li> <p>provide traffic filtering between on-premise and the cloud environments.</p> </li> <li> <p>Forced tunneling of Internet traffic from the cloud via the customer premises will not be considered.</p> </li> </ul> <h3 id=plan-for-application-delivery>Plan for Application Delivery<a class=headerlink href=#plan-for-application-delivery title="Permanent link">⚓︎</a></h3> <ul> <li> <p>Azure Application Gateway v2 with WAF enabled will be deployed in the VNet of the workload subscription along with applications to secure inbound HTTP/S connections.</p> </li> <li> <p>A DDoS standard protection plan for all public IP addresses will be enabled for the VNets in the Production subscription.</p> </li> </ul> <h3 id=plan-for-landing-zone-network-segmentation>Plan for Landing Zone Network Segmentation<a class=headerlink href=#plan-for-landing-zone-network-segmentation title="Permanent link">⚓︎</a></h3> <ul> <li> <p>NSGs will be used to allow only the necessary traffic and deny all others between the subnets within a VNet as well as across VNets.</p> </li> <li> <p>UDRs will be used to route all outbound flows/connections through a centralized Azure Firewall.</p> </li> <li> <p>Since the proposed design proposes to deploy each tier of an application in its own subnet, Application Service Groups (ASGs) are not necessary.</p> </li> </ul> <h3 id=plan-for-network-encryption>Plan for Network Encryption<a class=headerlink href=#plan-for-network-encryption title="Permanent link">⚓︎</a></h3> <p>The proposed solution will use VPN gateways which support IPSEC tunnels end-to-end between customer premises and the cloud environment.</p> <h3 id=plan-for-traffic-inspection>Plan for Traffic Inspection<a class=headerlink href=#plan-for-traffic-inspection title="Permanent link">⚓︎</a></h3> <p>The proposed solution will rely on Network Watcher primarily to monitor NSG flows. Given most of the Internet traffic of interest is HTTPS, support for logging of this data in Azure Firewall is limited and will not be used.</p> <h2 id=hub-vnet-design>Hub VNet Design<a class=headerlink href=#hub-vnet-design title="Permanent link">⚓︎</a></h2> <p>The Hub VNet will host the network services of Bastion, VPN gateway and Azure Firewall. Note that each of the network elements occupies its own subnet. The diagram below illustrates. <center><image style=height:200,width:150 src=../images/nwtopo-hub.png /></center></p> <p>The Hub VNet will be peered with the VNets hosting the workloads so routes are set up between all the subnets in all the VNets. The VPN gateway is configured to establish IPSEC tunnels with peers in the customer premise. It is route based so it can be configured to use BGP for dynamic routing.</p> <p>To use the Firewall for routing and reduce the load on the VPN gateway, UDR is set up for the subnet hosting the VPN gateway making the Firewall the next hop for all the Workload VNets.</p> <p>The Firewall also functions as a DNS Proxy for lookups on the Azure private DNS from the customer premise.</p> <p>The paths for some of the common traffic flows are given below --</p> <p>• VM access via Portal/Bastion -- Portal &lt;-&gt; Bastion &lt;-&gt; VM (via VNET peering). The Bastion acts as a reverse proxy so the return traffic from the VM is routed back to the Bastion.</p> <p>• On-premise access to VM -- On-premise &lt;-&gt; VPN gateway &lt;-&gt; Firewall &lt;-&gt; VM. The return traffic is forced to go through the Firewall via UDR for the VM subnet.</p> <p>• VM access to Internet -- VM &lt;-&gt; Firewall via UDR for the VM subnet.</p> <p>• On-premise access to application on VM -- On-premise &lt;-&gt; VPN gateway &lt;-&gt; Firewall &lt;-&gt; Application Gateway &lt;-&gt; application on VM. The return traffic uses the same path in reverse.</p> <p>• Internet access to application on VM -- Internet &lt;-&gt; Application Gateway &lt;-&gt; application on VM. The return traffic uses the same path in reverse.</p> <h2 id=vnet-design-for-net-application-production>VNet Design for .NET Application -- Production<a class=headerlink href=#vnet-design-for-net-application-production title="Permanent link">⚓︎</a></h2> <p>This section provides a high-level design for the VNet hosting the production level .NET application. The diagram below illustrates.</p> <p><center><image style=height:200,width:150 src=../images/nwtopo-workload-net-prod.png /></center></p> <p>The VNet is composed of 5 subnets. Subnet-Ext LB and Subnet-Int LB host application gateways that load balance traffic at the application/L7 layer across servers downstream for them. Subnet-Web hosts Web servers. Subnet-App hosts Application servers. Subnet-Database hosts Azure SQL Managed Instance.</p> <h3 id=subnet-ext-lb>Subnet-Ext LB<a class=headerlink href=#subnet-ext-lb title="Permanent link">⚓︎</a></h3> <p>This subnet hosts an instance of the Application Gateway with the Web Application Firewall. This gateway is L7 aware and performs load distribution and balancing across downstream Web servers. Some of the main configuration details are</p> <p>• This is both Internet facing and customer premise facing and has both a public and private virtual IP address</p> <p>• Listeners for both Internet and on-premise traffic are configured to run health probes and load balance across a set of Web servers hosted in the Subnet-Web that is discussed next.</p> <p>• SSL termination will be configured on the Application Server. SSL to Web servers can be provided if customer desires it.</p> <p>• WAF is to be configured with separate policies for Internet and customer premises traffic.</p> <h3 id=subnet-ext-lb-udr>Subnet-Ext LB UDR<a class=headerlink href=#subnet-ext-lb-udr title="Permanent link">⚓︎</a></h3> <p>Azure resources in this subnet need to access only the Web servers in the Subnet-Web and no other subnet. UDR is configured to restrict the paths to and from this subnet accordingly. The main routes are</p> <p>• Disable route to the VNet ranges of IP addresses. This prevents traffic to and from all subnets in the same VNet.</p> <p>• Enable route to default (0.0.0.0/0) via Internet. This covers the Internet traffic.</p> <p>• Enable routes to customer premise networks via the Azure Firewall in the Connectivity VNet subscription. This covers the customer premise traffic.</p> <p>• Enable route to Subnet-Web via the VNet gateway.</p> <h3 id=subnet-ext-lb-nsgs>Subnet-Ext LB NSGs<a class=headerlink href=#subnet-ext-lb-nsgs title="Permanent link">⚓︎</a></h3> <p>It is desirable to restrict traffic to certain protocols and ports for the sources and destinations permitted by the routes in UDR. The main NSG rules are</p> <p>• Allow incoming TCP traffic only to ports 80 and 443 from the Internet and customer premises (0.0.0.0/0).</p> <p>• Allow outgoing TCP traffic only to ports 80 and 443 in the Subnet-Web.</p> <p>• All other ports and protocols are to be denied.</p> <p>• NOTE -- It is assumed Azure management will use ports 80 and 443 on the Application gateway. If that is not the case it needs to be determined which ports are used and a rule is to be created to open those ports.</p> <h3 id=subnet-web>Subnet-Web<a class=headerlink href=#subnet-web title="Permanent link">⚓︎</a></h3> <p>This subnet hosts Web servers that provide the presentation layer in a three-tier Web application stack. Each Web server supports application traffic as well as health probes on ports 80 and 443. Rest of the configuration is application specific.</p> <h3 id=subnet-web-udr>Subnet-Web UDR<a class=headerlink href=#subnet-web-udr title="Permanent link">⚓︎</a></h3> <p>Azure resources in this subnet need to access both the Application Gateway and downstream Application Gateway. A path to the Bastion host as also a path to the Internet is needed. A route is also needed to the customer premises via the Azure Firewall. This allows on-premise access to the VMs and also allows Azure management traffic. The proposed routes are</p> <p>• Disable route to the VNet ranges of IP addresses. This prevents traffic to and from all subnets in the same VNet.</p> <p>• Enable route to the Subnet-Ext LB.</p> <p>• Enable route to the Subnet-Int LB.</p> <p>• Enable route to the Bastion host.</p> <p>• Enable route to the customer premises via the Azure Firewall.</p> <p>• Enable route to the default (0.0.0.0/0) via the Internet.</p> <h3 id=subnet-web-nsgs>Subnet-Web NSGs<a class=headerlink href=#subnet-web-nsgs title="Permanent link">⚓︎</a></h3> <p>Application data flows from the Application gateway and to the downstream Internal Load Balancer need to be permitted on ports 80 and 443. The VMs themselves need to be accessible via the Bastion and customer premises for configuration. Finally, it is assumed Internet access via ports 22 and 3389 is needed for Azure management.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from the Bastion.</p> <p>• Allow incoming TCP traffic to the ports 80 and 443 from the Subnet-Ext LB.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from customer premise.</p> <p>• Allow outgoing traffic to the ports 80 and 443 to the Subnet-Int LB.</p> <p>• Allow incoming traffic to the ports 22 and 3389 from the Internet.</p> <p>• Allow outgoing traffic for all ports to the Internet.</p> <h3 id=subnet-int-lb>Subnet-Int LB<a class=headerlink href=#subnet-int-lb title="Permanent link">⚓︎</a></h3> <p>This subnet hosts an Application Gateway that only has a private virtual IP address. It load balances requests from the Web servers across Application servers.</p> <h3 id=subnet-int-lb-udr>Subnet-Int LB UDR<a class=headerlink href=#subnet-int-lb-udr title="Permanent link">⚓︎</a></h3> <p>Routes are needed to the Web servers and Application servers. Routes are also needed to the Internet for possible management traffic.</p> <p>• Disable route to the VNet ranges of IP addresses. This prevents traffic to and from all subnets in the same VNet.</p> <p>• Enable route to the Subnet-Web.</p> <p>• Enable route to the Subnet-App.</p> <p>• Enable route to the default (0.0.0.0/0) via the Internet.</p> <h3 id=subnet-int-lb-nsgs>Subnet-Int LB NSGs<a class=headerlink href=#subnet-int-lb-nsgs title="Permanent link">⚓︎</a></h3> <p>Application data flows from the Web servers and to the downstream Application servers need to be permitted on ports 80 and 443. If Azure management uses the same ports, these ports need to be accessible from the Internet as well.</p> <p>• Allow incoming TCP traffic only to ports 80 and 443 from the Subnet-Web.</p> <p>• Allow incoming TCP traffic only to ports 80 and 443 from the Internet.</p> <p>• Allow outgoing TCP traffic only to ports 80 and 443 in the Subnet-App.</p> <p>• All other ports and protocols are to be denied.</p> <p>• NOTE -- It is assumed Azure management will use ports 80 and 443 on the Application gateway. If that is not the case it needs to be determined which ports are used and a rule is to be created to open those ports.</p> <h3 id=subnet-app>Subnet-App<a class=headerlink href=#subnet-app title="Permanent link">⚓︎</a></h3> <p>This subnet hosts Application servers that provide the business logic in a three tier Web application stack. Each Application server supports application traffic as well as health probes on ports 80 and 443. Rest of the configuration is application specific.</p> <h3 id=subnet-app-udr>Subnet-App UDR<a class=headerlink href=#subnet-app-udr title="Permanent link">⚓︎</a></h3> <p>Routes are needed to the Internal Application gateway and to the Database service. A path to the Bastion host is also needed. A route is also needed to the Internet and customer-premises via the Azure Firewall. This allows on-premise access to the VMs and allows Azure management traffic. The proposed routes are</p> <p>• Disable route to the VNet ranges of IP addresses. This prevents traffic to and from all subnets in the same VNet.</p> <p>• Enable route to the Subnet-Int LB .</p> <p>• Enable route to the Subnet-Database.</p> <p>• Enable route to the Bastion host.</p> <p>• Enable route to the customer premises via the Azure Firewall.</p> <p>• Enable route to the default (0.0.0.0/0) via the Internet.</p> <h3 id=subnet-app-nsgs>Subnet-App NSGs<a class=headerlink href=#subnet-app-nsgs title="Permanent link">⚓︎</a></h3> <p>Application data flows from the internal Application gateway need to be permitted on ports 80 and 443. Assuming the defaults for SQL Server, application data flows to the downstream Database service need to be permitted on TCP ports 1433, 4022, 135, 1434 and UDP ports 1434. The VMs themselves need to be accessible via the Bastion and customer premises for configuration. Finally, it is assumed Internet access via ports 22 and 3389 is needed for Azure management.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from the Bastion.</p> <p>• Allow incoming TCP traffic to the ports 80 and 443 from the Subnet-Int LB.</p> <p>• Allow outgoing TCP traffic to the ports 1433, 4022, 135, 1434 on the Subnet-Database.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from customer premise.</p> <p>• Allow incoming traffic to the ports 22 and 3389 from the Internet.</p> <p>• Allow outgoing traffic for all ports to the Internet.</p> <h3 id=subnet-database>Subnet-Database<a class=headerlink href=#subnet-database title="Permanent link">⚓︎</a></h3> <p>This subnet is dedicated to the hosting of Managed Instance SQL service. This is a PaaS service that is injected into the workload VNet to be available to the applications in that VNet. The configuration mainly consists of ensuring the subnet is dedicated to the PaaS service and delegation of the subnet to Microsoft.Sql/managedInstances resource provider. When the Managed Instance SQL service is instantiated a network intent policy is implemented by Azure on the VNet infrastructure elements which prevents any misconfiguration that could block operation of the service. Azure will also configure the routes and NSGs needed for management traffic to and from the service. More details on connectivity for Azure SQL Server Managed Instance can be obtained from <a href=https://docs.microsoft.com/en-us/azure/azure-sql/managed-instance/connectivity-architecture-overview#mandatory-inbound-security-rules-with-service-aided-subnet-configuration>Connectivity architecture for Azure SQL Managed Instance</a>.</p> <h3 id=subnet-database-udr>Subnet-Database UDR<a class=headerlink href=#subnet-database-udr title="Permanent link">⚓︎</a></h3> <p>Routes are needed to the Application servers. A route is also needed to the Internet and customer-premises via the Azure Firewall. This allows on-premise access to the VMs and allows Azure management traffic. The proposed routes are</p> <ul> <li> <p>Disable route to the VNet ranges of IP addresses. This prevents traffic to and from all subnets in the same VNet.</p> </li> <li> <p>Enable route to the Subnet-App.</p> </li> <li>Enable route to the customer premises via the Azure Firewall.</li> <li>Enable route to the default (0.0.0.0/0) via the Internet.</li> <li>Azure will configure the routes needed for the PaaS service to access other Azure services such as monitoring, storage, and backup.</li> </ul> <h3 id=subnet-database-nsgs>Subnet-Database NSGs<a class=headerlink href=#subnet-database-nsgs title="Permanent link">⚓︎</a></h3> <p>Application data flows to the Database need to be permitted on TCP ports 1433, 4022, 135, 1434 and UDP ports 1434.</p> <ul> <li>Allow incoming traffic to the on TCP ports 1433, 4022, 135, 1434 and UDP ports 1434.</li> <li>NOTE - It needs to be determined if traffic to and from other ports needs to be explicitly denied or whether the Azure configuration of the SQL Managed Instance service will address this.</li> </ul> <h2 id=vnet-design-for-j2ee-application-production>VNet Design for J2EE Application -- Production<a class=headerlink href=#vnet-design-for-j2ee-application-production title="Permanent link">⚓︎</a></h2> <p>This section provides a high-level design for the VNet hosting the production level J2EE application. The diagram below illustrates.</p> <p><center><image style=height:200,width:150 src=../images/nwtopo-workload-j2ee-prod.png /></center></p> <p>The design is pretty much the same as the .NET design except that there is no Internal Load Balancer between the Web servers and the App Servers. The affected subnets are the Subnet-Web and the Subnet-App the changes for which are described below.</p> <h3 id=subnet-web_1>Subnet-Web<a class=headerlink href=#subnet-web_1 title="Permanent link">⚓︎</a></h3> <p>This subnet hosts Web servers that provide the presentation layer in a three-tier Web application stack. Each Web server supports application traffic as well as health probes on ports 80 and 443. Rest of the configuration is application specific.</p> <h3 id=subnet-web-udr_1>Subnet-Web UDR<a class=headerlink href=#subnet-web-udr_1 title="Permanent link">⚓︎</a></h3> <p>Azure resources in this subnet need to access both the Application Gateway and downstream Application servers. A path to the Bastion host as well as a path to the Internet is needed. A route is also needed to the customer-premises via the Azure Firewall. This allows on-premise access to the VMs and also allows Azure management traffic. The proposed routes are</p> <p>• Disable route to the VNet ranges of IP addresses. This prevents traffic to and from all subnets in the same VNet.</p> <p>• Enable route to the Subnet-Ext LB.</p> <p>• Enable route to the Subnet-App.</p> <p>• Enable route to the Bastion host.</p> <p>• Enable route to the customer premises via the Azure Firewall.</p> <p>• Enable route to the default (0.0.0.0/0) via the Internet.</p> <h3 id=subnet-web-nsgs_1>Subnet-Web NSGs<a class=headerlink href=#subnet-web-nsgs_1 title="Permanent link">⚓︎</a></h3> <p>Application data flows from the Application gateway and to the downstream Application servers need to be permitted on ports 80 and 443. The VMs themselves need to be accessible via the Bastion and customer premises for configuration. Finally, it is assumed Internet access via ports 22 and 3389 is needed for Azure management.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from the Bastion.</p> <p>• Allow incoming TCP traffic to the ports 80 and 443 from the Subnet-Ext LB.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from customer premise.</p> <p>• Allow outgoing traffic to the ports 80 and 443 to the Subnet-App.</p> <p>• Allow incoming traffic to the ports 22 and 3389 from the Internet.</p> <p>• Allow outgoing traffic for all ports to the Internet.</p> <h3 id=subnet-app_1>Subnet-App<a class=headerlink href=#subnet-app_1 title="Permanent link">⚓︎</a></h3> <p>This subnet hosts Application servers that provide the business logic in a three tier Web application stack. Each Application server supports application traffic as well as health probes on ports 80 and 443. Rest of the configuration is application specific.</p> <h3 id=subnet-app-udr_1>Subnet-App UDR<a class=headerlink href=#subnet-app-udr_1 title="Permanent link">⚓︎</a></h3> <p>Routes are needed to the Web servers and to the Database service. A path to the Bastion host is also needed. A route is also needed to the Internet and customer-premises via the Azure Firewall. This allows on-premise access to the VMs and allows Azure management traffic. The proposed routes are</p> <p>• Disable route to the VNet ranges of IP addresses. This prevents traffic to and from all subnets in the same VNet.</p> <p>• Enable route to the Subnet-Web.</p> <p>• Enable route to the Subnet-Database.</p> <p>• Enable route to the Bastion host.</p> <p>• Enable route to the customer premises via the Azure Firewall.</p> <p>• Enable route to the default (0.0.0.0/0) via the Internet.</p> <h3 id=subnet-app-nsgs_1>Subnet-App NSGs<a class=headerlink href=#subnet-app-nsgs_1 title="Permanent link">⚓︎</a></h3> <p>Application data flows from the Web servers need to be permitted on ports 80 and 443. Assuming the defaults for SQL Server, application data flows to the downstream Database service need to be permitted on TCP ports 1433, 4022, 135, 1434 and UDP ports 1434. The VMs themselves need to be accessible via the Bastion and customer premises for configuration. Finally, it is assumed Internet access via ports 22 and 3389 is needed for Azure management.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from the Bastion.</p> <p>• Allow incoming TCP traffic to the ports 80 and 443 from the Subnet-Web.</p> <p>• Allow outgoing TCP traffic to the ports 1433, 4022, 135, 1434 on the Subnet-Database.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from customer premise.</p> <p>• Allow incoming traffic to the ports 22 and 3389 from the Internet.</p> <p>• Allow outgoing traffic for all ports to the Internet.</p> <h2 id=vnet-design-for-net-and-j2ee-applications-devtest>VNet Design for .NET and J2EE Applications -- Dev/Test<a class=headerlink href=#vnet-design-for-net-and-j2ee-applications-devtest title="Permanent link">⚓︎</a></h2> <p>This section provides a high-level design for the VNet hosting the Dev/Test level J2EE application and .NET application. The diagram below illustrates.</p> <p><center><image style=height:200,width:150 src=../images/nwtopo-workload-j2eenet-devtest.png /></center></p> <p>The design is much simplified with single servers at each of the Web and Application tiers for both the J2EE and .NET incarnations. As a result, the load balancers have been dispensed with. Both the applications share the single SQL Managed Instance. The affected subnets are the Subnet-Web and the Subnet-App the changes for which are described below.</p> <h3 id=subnet-web_2>Subnet-Web<a class=headerlink href=#subnet-web_2 title="Permanent link">⚓︎</a></h3> <p>This subnet hosts Web servers that provide the presentation layer in a three-tier Web application stack. Each Web server supports application traffic as well as health probes on ports 80 and 443. Rest of the configuration is application specific.</p> <h3 id=subnet-web-udr_2>Subnet-Web UDR<a class=headerlink href=#subnet-web-udr_2 title="Permanent link">⚓︎</a></h3> <p>Azure resources in this subnet need to access the customer premises, the Internet and downstream Application servers. A path to the Bastion host as well as to the Internet is needed. A route is also needed to the customer-premises via the Azure Firewall. This allows on-premise access to the VMs and also allows Azure management traffic. The proposed routes are</p> <p>• Disable route to the VNet ranges of IP addresses. This prevents traffic to and from all subnets in the same VNet.</p> <p>• Enable route to the Subnet-App.</p> <p>• Enable route to the Bastion host.</p> <p>• Enable route to the customer premises via the Azure Firewall.</p> <p>• Enable route to the default (0.0.0.0/0) via the Internet.</p> <h3 id=subnet-web-nsgs_2>Subnet-Web NSGs<a class=headerlink href=#subnet-web-nsgs_2 title="Permanent link">⚓︎</a></h3> <p>Application data flows from the customer premises and the Internet to the downstream Application servers need to be permitted on ports 80 and 443. The VMs themselves need to be accessible via the Bastion and customer premises for configuration. Finally, it is assumed Internet access via ports 22 and 3389 is needed for Azure management.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from the Bastion.</p> <p>• Allow incoming TCP traffic to the ports 80 and 443 from the Internet.</p> <p>• Allow incoming TCP traffic to the ports 80 and 443 from the customer premises.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from customer premises.</p> <p>• Allow outgoing traffic to the ports 80 and 443 to the Subnet-App.</p> <p>• Allow incoming traffic to the ports 22 and 3389 from the Internet.</p> <p>• Allow outgoing traffic for all ports to the Internet.</p> <h3 id=subnet-app_2>Subnet-App<a class=headerlink href=#subnet-app_2 title="Permanent link">⚓︎</a></h3> <p>This subnet hosts Application servers that provide the business logic in a three tier Web application stack. Each Application server supports application traffic as well as health probes on ports 80 and 443. Rest of the configuration is application specific.</p> <h3 id=subnet-app-udr_2>Subnet-App UDR<a class=headerlink href=#subnet-app-udr_2 title="Permanent link">⚓︎</a></h3> <p>Routes are needed to the Web servers and to the Database service. A path to the Bastion host as well as to the Internet is needed. A route is also needed to the customer-premises via the Azure Firewall. This allows on-premise access to the VMs and allows Azure management traffic. The proposed routes are</p> <p>• Disable route to the VNet ranges of IP addresses. This prevents traffic to and from all subnets in the same VNet.</p> <p>• Enable route to the Subnet-Web.</p> <p>• Enable route to the Subnet-Database.</p> <p>• Enable route to the Bastion host.</p> <p>• Enable route to the customer premises via the Azure Firewall.</p> <p>• Enable route to the default (0.0.0.0/0) via the Internet.</p> <h3 id=subnet-app-nsgs_2>Subnet-App NSGs<a class=headerlink href=#subnet-app-nsgs_2 title="Permanent link">⚓︎</a></h3> <p>Application data flows from the Web servers need to be permitted on ports 80 and 443. Assuming the defaults for SQL Server, application data flows to the downstream Database service need to be permitted on TCP ports 1433, 4022, 135, 1434 and UDP ports 1434. The VMs themselves need to be accessible via the Bastion and customer premises for configuration. Finally, it is assumed Internet access via ports 22 and 3389 is needed for Azure management.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from the Bastion.</p> <p>• Allow incoming TCP traffic to the ports 80 and 443 from the Subnet-Web.</p> <p>• Allow outgoing TCP traffic to the ports 1433, 4022, 135, 1434 on the Subnet-Database.</p> <p>• Allow incoming TCP traffic to the ports 22 and 3389 from customer premise.</p> <p>• Allow incoming traffic to the ports 22 and 3389 from the Internet.</p> <p>• Allow outgoing traffic for all ports to the Internet.</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../organdmgmt/ class="md-footer__link md-footer__link--prev" aria-label="Previous: 3.Organization & Management Group" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> 3.Organization & Management Group </div> </div> </a> <a href=../monitoringmgmt/ class="md-footer__link md-footer__link--next" aria-label="Next: 5.Monitoring & Management" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> 5.Monitoring & Management </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> <a href=/about/ >Copyright (C) 2021 Kyndryl</a>. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.kyndryl.net/OCTO/azure/ target=_blank rel=noopener title="FEEDBACK & ISSUES" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.tabs.link", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.e99e714c.min.js", "version": null}</script> <script src=../../assets/javascripts/bundle.8697d190.min.js></script> </body> </html>